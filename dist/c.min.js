/** @license
 * protocore-js <https://github.com/dzonzbonz/ProtoCoreJS>
 * Author: Nikola Ivanovic - Dzonz Bonz | MIT License
 * v0.0.1 (2015/06/11 09:27)
 */
;(function(){var factory=function(){function CJS(){this.VERSION="0.0.1",this.MODE_READONLY=1,this.MODE_LOCKED=2,this.MODE_HIDDEN=4,this.MODE_PROPERTY=8,this.guid=function(a){},this.implement=function(a,b,c,d){},this.factory=function(a,b,c,d){},this.extend=function(a,b){},this.mode=function(a,b,c){},this.traverse=function(a,b){},this.instantiate=function(a){},this.serialize=function(a){},this.unserialize=function(a){},this.clone=function(a){},this.cast=function(a,b){},this.isCallable=function(a){},this.isFlaged=function(a,b){},this.isFunction=function(a){},this.isObject=function(a){},this.isArray=function(a){},this.isDefined=function(a){},this.isString=function(a){},this.descriptor=function(a,b){},this.fork=function(a,b){},this.join=function(a,b){},this.queue=function(a,b,c){},this.load=function(a,b,c){},this.require=function(a,b,c,d){},this.helper=function(){}}return CJS.prototype={guid:function(a){var b=function(){return Math.floor(Math.random()*65536).toString(16)},c=b();for(var d=0;d<a-1;d++)c+="-"+b();return c},isFunction:function(a){var b={};return a&&b.toString.call(a)==="[object Function]"},isCallable:function(a){if(!this.isFunction(a))return!1;if(this.isArray(a)){if(a.length!==2)return!1;if(!this.isObject(a[0])||!this.isFunction(a[1]))return!1}return!0},isObject:function(a){return a&&Object.prototype.toString.call(a)==="[object Object]"},isArray:function(a){return a&&Object.prototype.toString.call(a)==="[object Array]"},isString:function(a){return typeof a=="string"||a instanceof String},isDefined:function(a,b){return a!==b},descriptor:function(a,b){var c=null;return a.hasProperty&&a.hasProperty(b)?c=a.getPropertyDescriptor(b):a.hasOwnProperty(b)&&(c=Object.getOwnPropertyDescriptor(a,b)),c},flaged:function(a,b){return(a&b)==b},mode:function(a,b,c){var d=this;if(this.isArray(b)||this.isObject(b))this.mode(a,c,b);else if(c===null)for(var e in a)this.mode(a,e,b);else if(this.isArray(c)||this.isObject(c)){var f=this.isObject(c),g=this.isArray(c);this.traverse(c,function(c,e){g?d.mode(a,b,e):f&&d.mode(a,c,e)})}else if(this.isString(c)){var h=!this.flaged(b,this.MODE_LOCKED)&&!this.flaged(b,this.MODE_READONLY),i=!this.flaged(b,this.MODE_HIDDEN),j=!this.flaged(b,this.MODE_LOCKED);Object.defineProperty(a,c,{writable:h,enumerable:i,configurable:j})}},implement:function(a,b,c,d){var e=this;this.isObject(b)?this.traverse(b,function(b,c){e.implement(a,b,c)}):this.isString(b)&&c&&(Object.defineProperty(a,b,{writable:!0,enumerable:!0,configurable:!0,value:c}),d&&this.mode(a,d,b))},factory:function(a,b,c,d){var e=null,f=this;if(this.isString(b))this.factory(a,c,b,d);else if(this.isObject(b)||this.isArray(b)){var g=this.isObject(b),h=this.isArray(b);this.traverse(c,function(b,c){g?f.factory(a,c,b,d):h&&f.factory(a,c,null,d)})}else if(this.isFunction(b)){var i=b.call(a,c);this.isString(c)&&this.isFunction(b)&&this.implement(a,c,i,d)}},instantiate:function(className){var obj=null;return eval("obj = new "+className+"();"),obj},call:function(a,b){var c=null;if(this.isCallable(a))if(this.isArray(a))var d=Array.prototype.slice.call(arguments,1);else if(this.isFunction(a))var d=Array.prototype.slice.call(arguments,1);return c},traverse:function(a,b){if(!a)return!1;if(a.hasOwnProperty("traverse")&&this.isFunction(a.traverse))return a.traverse(b);var c={};for(var d in a)c[d]=b.apply(a,[d,a[d]]);return c},fork:function(a,b){var c=Array.prototype.slice.call(arguments,1),d=0,e=window,f=a;this.isArray(a)&&(e=a[1],f=a[0]),this.isDefined(b)&&(c=Array.prototype.slice.call(arguments,2),d=b);var g=!1,h=setTimeout(function(){if(g)return;g=!0,f.apply(e,c),clearTimeout(h)},d)},join:function(a,b){function f(f){d<a.length&&a.length>0?(d++,b&&b.jobDone&&b.jobDone.call(c.clone(e))):b&&b.done&&b.done()}var c=this,d=-1,e={};this.traverse(a,function(a,b){var d={};e[a]=!1,c.factory(d,"join",function(){var b=!1,c=a;return function(){e[c]||f(c),e[c]=!0}},c.MODE_LOCKED),c.isFunction(b)?c.fork([b,d]):d.join()})},queue:function(a,b,c){function g(){e<a.length&&a.length>0?(e++,h(e)):c&&c()}var d=this,e=-1,f={output:{},input:b},h=function(b){if(b<a.length){var c=a[b],e={output:d.clone(f.output),input:d.clone(f.input)};d.factory(e,"next",function(){var a=!1;return function(){a||g(),a=!0}},d.MODE_LOCKED),d.isFunction(c)?c(e):e.next()}};g()},load:function(a,b,c){jQuery&&jQuery.ajax({url:a,method:"GET",success:function(a){b(a)},error:function(a){c(a)}})}},C=new CJS,C.factory(this,"extend",function(a){var b=this,c=function(a,b){a.hasProperty||C.implement(a,"hasProperty",function(a){var c=!1;return this.hasOwnProperty(a)?c=!0:b&&b.hasProperty?c=b.hasProperty(a):b&&(c=b.hasOwnProperty(a)),c},C.MODE_LOCKED&C.MODE_HIDDEN),a.getPropertyDescriptor||C.implement(a,"getPropertyDescriptor",function(a){var c=!1;return this.hasOwnProperty(a)?c=Object.getOwnPropertyDescriptor(this,a):b&&b.hasProperty&&b.hasProperty(a)?c=b.getPropertyDescriptor(a):b&&b.hasOwnProperty(a)&&(c=Object.getOwnPropertyDescriptor(b,a)),c},C.MODE_LOCKED&C.MODE_HIDDEN)};return function(a,d){d&&c(d),c(a,d);for(var e in d){if(e==="constructor"||e==="__instanceof__")continue;var f=0,g=C.descriptor(d,e);g.writable||(f|=C.MODE_READONLY),g.configurable||(f|=C.MODE_LOCKED),g.enumerable||(f|=C.MODE_HIDDEN),b.implement(a,e,d[e],f)}}}),C.mode(C,["MODE_HIDDEN","MODE_LOCKED","MODE_PROPERTY","MODE_READONLY","implement","factory","mode","extend","include","serialize","unserialize","clone","cast","traverse","instantiate","descriptor","fork","join","queue","guid","isFlaged","isFunction","isObject","isArray","isDefined","isString","load"],C.MODE_LOCKED),C};typeof define=="function"&&define.amd?define([],factory):typeof module!="undefined"&&module.exports?module.exports=factory():window.C=factory()})();